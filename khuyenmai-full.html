<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Khuy·∫øn m√£i & Voucher - SellerHub</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <div class="app">
      <aside class="sidebar">
        <div class="sidebar-header top-brand">
          <div class="brand-left">
            <div class="brand-icon">üõí</div>
            <div class="brand-text">
              <div class="brand-name">SellerHub</div>
            </div>
          </div>
          <button class="collapse-btn">‚Æü</button>
        </div>

        <div class="sidebar-scroll">
          <!-- QU·∫¢N L√ù -->
          <div class="sidebar-section-label">QU·∫¢N L√ù</div>
          <nav class="sidebar-nav">
            <a href="index.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">üìä</span>
                <span class="nav-text">T·ªïng quan</span>
              </div>
            </a>
            <a href="sanpham-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">üì¶</span>
                <span class="nav-text">S·∫£n ph·∫©m</span>
              </div>
            </a>
            <a href="danhmuc-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">üóÇ</span>
                <span class="nav-text">Danh m·ª•c</span>
              </div>
            </a>
            <a href="tonkho-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">üè¨</span>
                <span class="nav-text">T·ªìn kho</span>
              </div>
            </a>
            <a href="donhang-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">üßæ</span>
                <span class="nav-text">ƒê∆°n h√†ng</span>
              </div>
            </a>
            <a href="khachhang-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">üë•</span>
                <span class="nav-text">Kh√°ch h√†ng</span>
              </div>
            </a>
          </nav>

          <!-- V·∫¨N H√ÄNH -->
          <div class="sidebar-section-label">V·∫¨N H√ÄNH</div>
          <nav class="sidebar-nav">
            <a href="vanchuyen-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">üöö</span>
                <span class="nav-text">V·∫≠n chuy·ªÉn</span>
              </div>
            </a>
            <a href="hoantien-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">‚Ü©Ô∏è</span>
                <span class="nav-text">Ho√†n ti·ªÅn</span>
              </div>
            </a>
            <a href="khuyenmai-full.html" class="nav-item active">
              <div class="nav-left">
                <span class="nav-icon">üè∑</span>
                <span class="nav-text">Khuy·∫øn m√£i</span>
              </div>
            </a>
            <a href="flashsale-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">‚ö°</span>
                <span class="nav-text">Flash Sale</span>
              </div>
            </a>
          </nav>

          <!-- PH√ÇN T√çCH -->
          <div class="sidebar-section-label">PH√ÇN T√çCH</div>
          <nav class="sidebar-nav">
            <a href="baocao-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">üìà</span>
                <span class="nav-text">B√°o c√°o</span>
              </div>
            </a>
          </nav>

          <!-- THI·∫æT L·∫¨P -->
          <div class="sidebar-section-label">THI·∫æT L·∫¨P</div>
          <nav class="sidebar-nav">
            <a href="cuahang-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">üè™</span>
                <span class="nav-text">C·ª≠a h√†ng</span>
              </div>
            </a>
            <a href="caidat-full.html" class="nav-item">
              <div class="nav-left">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-text">C√†i ƒë·∫∑t</span>
              </div>
            </a>
          </nav>
        </div>

        <div class="sidebar-footer">
          <div class="user">
            <div class="avatar"><span>NH</span></div>
            <div class="user-info">
              <div class="user-name">Nguy·ªÖn Ho√†ng</div>
              <div class="user-role small">Premium Seller ‚ñæ</div>
            </div>
          </div>
        </div>
      </aside>

      <main class="main">
        <header class="topbar">
          <div class="topbar-left">
            <h1 class="page-title">Khuy·∫øn m√£i & Voucher</h1>
            <div class="search-box">
              <span class="search-icon">üîç</span>
              <input type="text" class="search-input" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m, ƒë∆°n h√†ng..." />
            </div>
          </div>
          <div class="topbar-right">
            <button class="top-btn">üîî</button>
            <button class="top-btn">‚ùì</button>
            <button class="btn-store-open">C·ª≠a h√†ng ƒëang m·ªü</button>
          </div>
        </header>

        <!-- SUMMARY CARDS -->
        <section class="kpi-row">
          <div class="kpi-card">
            <div class="kpi-header">
              <span>üè∑ T·ªïng voucher</span>
            </div>
            <div class="kpi-value">5</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-header">
              <span>‚úÖ ƒêang ho·∫°t ƒë·ªông</span>
            </div>
            <div class="kpi-value">3</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-header">
              <span>üõí L∆∞·ª£t s·ª≠ d·ª•ng</span>
            </div>
            <div class="kpi-value">445</div>
          </div>
          <div class="kpi-card">
            <div class="kpi-header">
              <span>üí∞ ƒê√£ gi·∫£m gi√°</span>
            </div>
            <div class="kpi-value">125.6M</div>
          </div>
        </section>

        <!-- TABS AND CONTROLS -->
        <div class="product-header">
          <div class="tabs">
            <button class="tab-btn active">Voucher</button>
            <button class="tab-btn">Chi·∫øn d·ªãch</button>
          </div>
          <div class="filter-group">
            <div class="search-box">
              <span class="search-icon">üîç</span>
              <input type="text" class="search-input" id="voucherSearchInput" placeholder="T√¨m m√£ voucher..." />
            </div>
            <div class="filter-dropdown-wrapper" style="position: relative;">
              <button class="filter-btn" id="statusFilterBtn">
                <span id="statusFilterText">T·∫•t c·∫£</span>
                <span class="filter-arrow">‚ñº</span>
              </button>
              <div class="filter-dropdown" id="statusFilterDropdown">
                <button class="filter-option active" data-status="">‚úì T·∫•t c·∫£</button>
                <button class="filter-option" data-status="active">ƒêang ho·∫°t ƒë·ªông</button>
                <button class="filter-option" data-status="pending">Ch∆∞a b·∫Øt ƒë·∫ßu</button>
                <button class="filter-option" data-status="expired">ƒê√£ h·∫øt h·∫°n</button>
              </div>
            </div>
            <button class="btn-add" id="btnCreateVoucher">+ T·∫°o voucher</button>
          </div>
        </div>

        <!-- VOUCHER TABLE -->
        <div class="card" id="voucherSection">
          <div class="card-body table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>VOUCHER</th>
                  <th>GI√Å TR·ªä</th>
                  <th>ƒêI·ªÄU KI·ªÜN</th>
                  <th>S·ª¨ D·ª§NG</th>
                  <th>TH·ªúI H·∫†N</th>
                  <th>TR·∫†NG TH√ÅI</th>
                  <th>THAO T√ÅC</th>
                </tr>
              </thead>
              <tbody>
                <tr data-voucher-code="SALE50">
                  <td>
                    <div>
                      <div class="product-name">SALE50</div>
                      <div class="product-meta">Gi·∫£m 50% t·∫•t c·∫£ s·∫£n ph·∫©m</div>
                    </div>
                  </td>
                  <td>
                    <div>
                      <div style="font-weight: 600;">50%</div>
                      <div class="product-meta">T·ªëi ƒëa: 500.000‚Ç´</div>
                    </div>
                  </td>
                  <td>
                    <div>
                      <div>ƒê∆°n t·ª´ 1.000.000‚Ç´</div>
                      <div class="product-meta">T·∫•t C·∫£</div>
                    </div>
                  </td>
                  <td>
                    <div style="display: flex; flex-direction: column; gap: 4px;">
                      <div style="width: 100px; height: 8px; background: var(--bg); border-radius: 4px; overflow: hidden;">
                        <div style="width: 45%; height: 100%; background: var(--accent);"></div>
                      </div>
                      <span style="font-size: 12px;">45/100</span>
                    </div>
                  </td>
                  <td>2024-01-01 - 2024-01-31</td>
                  <td><span class="status success">ƒêang ho·∫°t ƒë·ªông</span></td>
                  <td>
                    <div style="display: flex; align-items: center; gap: 8px;">
                      <label class="toggle-switch">
                        <input type="checkbox" checked data-voucher-code="SALE50" />
                        <span class="slider"></span>
                      </label>
                      <div class="action-menu">
                        <button class="action-toggle">‚ãØ</button>
                        <div class="action-dropdown">
                          <button class="action-item" data-action="edit" data-voucher-code="SALE50">‚úèÔ∏è Ch·ªânh s·ª≠a</button>
                          <button class="action-item" data-action="duplicate" data-voucher-code="SALE50">üìë Nh√¢n b·∫£n</button>
                          <button class="action-item danger" data-action="delete" data-voucher-code="SALE50">üóë X√≥a</button>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <tr data-voucher-code="FREESHIP">
                  <td>
                    <div>
                      <div class="product-name">FREESHIP</div>
                      <div class="product-meta">Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn</div>
                    </div>
                  </td>
                  <td>
                    <div>
                      <div style="font-weight: 600;">Free Ship</div>
                      <div class="product-meta">T·ªëi ƒëa: 50.000‚Ç´</div>
                    </div>
                  </td>
                  <td>
                    <div>
                      <div>ƒê∆°n t·ª´ 500.000‚Ç´</div>
                      <div class="product-meta">T·∫•t C·∫£</div>
                    </div>
                  </td>
                  <td>
                    <div style="display: flex; flex-direction: column; gap: 4px;">
                      <div style="width: 100px; height: 8px; background: var(--bg); border-radius: 4px; overflow: hidden;">
                        <div style="width: 60%; height: 100%; background: var(--accent);"></div>
                      </div>
                      <span style="font-size: 12px;">120/200</span>
                    </div>
                  </td>
                  <td>2024-01-01 - 2024-02-28</td>
                  <td><span class="status success">ƒêang ho·∫°t ƒë·ªông</span></td>
                  <td>
                    <div style="display: flex; align-items: center; gap: 8px;">
                      <label class="toggle-switch">
                        <input type="checkbox" checked data-voucher-code="FREESHIP" />
                        <span class="slider"></span>
                      </label>
                      <div class="action-menu">
                        <button class="action-toggle">‚ãØ</button>
                        <div class="action-dropdown">
                          <button class="action-item" data-action="edit" data-voucher-code="FREESHIP">‚úèÔ∏è Ch·ªânh s·ª≠a</button>
                          <button class="action-item" data-action="duplicate" data-voucher-code="FREESHIP">üìë Nh√¢n b·∫£n</button>
                          <button class="action-item danger" data-action="delete" data-voucher-code="FREESHIP">üóë X√≥a</button>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
                <tr data-voucher-code="IPHONE200K">
                  <td>
                    <div>
                      <div class="product-name">IPHONE200K</div>
                      <div class="product-meta">Gi·∫£m 200K cho iPhone</div>
                    </div>
                  </td>
                  <td>
                    <div>
                      <div style="font-weight: 600;">200.000‚Ç´</div>
                      <div class="product-meta">T·ªëi ƒëa: 200.000‚Ç´</div>
                    </div>
                  </td>
                  <td>
                    <div>
                      <div>ƒê∆°n t·ª´ 20.000.000‚Ç´</div>
                      <div class="product-meta">Theo Danh M·ª•c</div>
                    </div>
                  </td>
                  <td>
                    <div style="display: flex; flex-direction: column; gap: 4px;">
                      <div style="width: 100px; height: 8px; background: var(--bg); border-radius: 4px; overflow: hidden;">
                        <div style="width: 100%; height: 100%; background: var(--accent);"></div>
                      </div>
                      <span style="font-size: 12px;">50/50</span>
                    </div>
                  </td>
                  <td>2024-01-01 - 2024-01-15</td>
                  <td><span class="status cancelled">ƒê√£ h·∫øt h·∫°n</span></td>
                  <td>
                    <div class="action-menu">
                      <button class="action-toggle">‚ãØ</button>
                      <div class="action-dropdown">
                        <button class="action-item" data-action="edit" data-voucher-code="IPHONE200K">‚úèÔ∏è Ch·ªânh s·ª≠a</button>
                        <button class="action-item" data-action="duplicate" data-voucher-code="IPHONE200K">üìë Nh√¢n b·∫£n</button>
                        <button class="action-item danger" data-action="delete" data-voucher-code="IPHONE200K">üóë X√≥a</button>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- PAGINATION -->
          <div class="pagination-container" id="paginationContainer" style="display: none;">
            <span id="paginationInfo" style="color: var(--text-muted); font-size: 13px;">Hi·ªÉn th·ªã 1-10 trong t·ªïng s·ªë 0 voucher</span>
            <div style="display: flex; align-items: center; gap: 8px;">
              <button class="btn-sm" id="prevPageBtn" disabled>Tr∆∞·ªõc</button>
              <div id="paginationNumbers" style="display: flex; gap: 6px;"></div>
              <button class="btn-sm" id="nextPageBtn">Sau</button>
            </div>
          </div>
        </div>

        <!-- CHI·∫æN D·ªäCH SECTION -->
        <div class="card" id="campaignSection" style="display: none;">
          <!-- CAMPAIGN HEADER -->
          <div class="product-header" style="padding: 16px 20px; border-bottom: 1px solid var(--border);">
            <div class="filter-group">
              <div class="search-box">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" id="campaignSearchInput" placeholder="T√¨m ki·∫øm chi·∫øn d·ªãch..." />
              </div>
              <button class="btn-add" id="btnCreateCampaign">+ T·∫°o chi·∫øn d·ªãch</button>
            </div>
          </div>
          
          <!-- CAMPAIGN TABLE -->
          <div class="card-body table-wrapper" id="campaignTableWrapper">
            <table id="campaignTable">
              <thead>
                <tr>
                  <th>T√äN CHI·∫æN D·ªäCH</th>
                  <th>M√î T·∫¢</th>
                  <th>TH·ªúI GIAN</th>
                  <th>TR·∫†NG TH√ÅI</th>
                  <th>THAO T√ÅC</th>
                </tr>
              </thead>
              <tbody id="campaignTableBody">
                <!-- Campaigns will be added here -->
              </tbody>
            </table>
          </div>
          
          <!-- CAMPAIGN PAGINATION -->
          <div class="pagination-container" id="campaignPaginationContainer" style="display: none;">
            <span id="campaignPaginationInfo" style="color: var(--text-muted); font-size: 13px;">Hi·ªÉn th·ªã 1-10 trong t·ªïng s·ªë 0 chi·∫øn d·ªãch</span>
            <div style="display: flex; align-items: center; gap: 8px;">
              <button class="btn-sm" id="campaignPrevPageBtn" disabled>Tr∆∞·ªõc</button>
              <div id="campaignPaginationNumbers" style="display: flex; gap: 6px;"></div>
              <button class="btn-sm" id="campaignNextPageBtn">Sau</button>
            </div>
          </div>
          
          <!-- EMPTY STATE -->
          <div id="campaignEmptyState" style="text-align: center; padding: 60px 20px; color: var(--text-muted); display: none;">
            <div style="font-size: 48px; margin-bottom: 16px;">üì¢</div>
            <h3 style="color: var(--text); margin-bottom: 8px;">Ch∆∞a c√≥ chi·∫øn d·ªãch n√†o</h3>
            <p style="font-size: 14px; margin-bottom: 24px;">T·∫°o chi·∫øn d·ªãch khuy·∫øn m√£i ƒë·∫ßu ti√™n c·ªßa b·∫°n</p>
            <button class="btn-add" id="btnCreateCampaignEmpty">+ T·∫°o chi·∫øn d·ªãch</button>
          </div>
        </div>
      </main>
    </div>

    <!-- MODAL T·∫†O VOUCHER -->
    <div id="voucherModal" class="modal">
      <div class="modal-content" style="max-width: 700px;">
        <div class="modal-header">
          <div>
            <h2>T·∫°o voucher m·ªõi</h2>
            <p class="modal-subtitle">Thi·∫øt l·∫≠p m√£ gi·∫£m gi√° cho kh√°ch h√†ng</p>
          </div>
          <button class="modal-close" id="closeVoucherModal">‚úï</button>
        </div>

        <form id="voucherForm">
          <div class="modal-body">
            <!-- M√£ voucher v√† Lo·∫°i gi·∫£m gi√° -->
            <div class="form-row">
              <div class="form-group">
                <label>M√£ voucher <span class="required">*</span></label>
                <input
                  type="text"
                  name="voucherCode"
                  id="voucherCode"
                  placeholder="VD: SALE50"
                  required
                  style="text-transform: uppercase;"
                />
              </div>
              <div class="form-group">
                <label>Lo·∫°i gi·∫£m gi√°</label>
                <select name="discountType" id="discountType">
                  <option value="percent">Gi·∫£m theo %</option>
                  <option value="amount">Gi·∫£m theo s·ªë ti·ªÅn</option>
                  <option value="freeship">Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn</option>
                </select>
              </div>
            </div>

            <!-- T√™n voucher -->
            <div class="form-group">
              <label>T√™n voucher <span class="required">*</span></label>
              <input
                type="text"
                name="voucherName"
                id="voucherName"
                placeholder="VD: Gi·∫£m 50% t·∫•t c·∫£ s·∫£n ph·∫©m"
                required
              />
            </div>

            <!-- Gi√° tr·ªã gi·∫£m v√† Gi·∫£m t·ªëi ƒëa -->
            <div class="form-row">
              <div class="form-group">
                <label>Gi√° tr·ªã gi·∫£m <span class="required">*</span></label>
                <input
                  type="number"
                  name="discountValue"
                  id="discountValue"
                  placeholder="50"
                  min="0"
                  required
                />
              </div>
              <div class="form-group">
                <label>Gi·∫£m t·ªëi ƒëa</label>
                <input
                  type="number"
                  name="maxDiscount"
                  id="maxDiscount"
                  placeholder="500000"
                  min="0"
                />
              </div>
            </div>

            <!-- ƒê∆°n h√†ng t·ªëi thi·ªÉu v√† Gi·ªõi h·∫°n s·ª≠ d·ª•ng -->
            <div class="form-row">
              <div class="form-group">
                <label>ƒê∆°n h√†ng t·ªëi thi·ªÉu</label>
                <input
                  type="number"
                  name="minOrder"
                  id="minOrder"
                  placeholder="1000000"
                  min="0"
                />
              </div>
              <div class="form-group">
                <label>Gi·ªõi h·∫°n s·ª≠ d·ª•ng</label>
                <input
                  type="number"
                  name="usageLimit"
                  id="usageLimit"
                  placeholder="100"
                  min="1"
                />
              </div>
            </div>

            <!-- Ng√†y b·∫Øt ƒë·∫ßu v√† Ng√†y k·∫øt th√∫c -->
            <div class="form-row">
              <div class="form-group">
                <label>Ng√†y b·∫Øt ƒë·∫ßu</label>
                <input
                  type="date"
                  name="startDate"
                  id="startDate"
                  required
                />
              </div>
              <div class="form-group">
                <label>Ng√†y k·∫øt th√∫c</label>
                <input
                  type="date"
                  name="endDate"
                  id="endDate"
                  required
                />
              </div>
            </div>

            <!-- √Åp d·ª•ng cho -->
            <div class="form-group">
              <label>√Åp d·ª•ng cho</label>
              <select name="applyTo" id="applyTo">
                <option value="all">T·∫•t c·∫£ s·∫£n ph·∫©m</option>
                <option value="category">Theo danh m·ª•c</option>
                <option value="product">Theo s·∫£n ph·∫©m</option>
              </select>
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn-cancel" id="cancelVoucherBtn">H·ªßy</button>
            <button type="submit" class="btn-submit">T·∫°o voucher</button>
          </div>
        </form>
      </div>
    <!-- MODAL T·∫†O CHI·∫æN D·ªäCH -->
    <div id="campaignModal" class="modal">
      <div class="modal-content" style="max-width: 700px;">
        <div class="modal-header">
          <div>
            <h2>T·∫°o chi·∫øn d·ªãch m·ªõi</h2>
            <p class="modal-subtitle">Thi·∫øt l·∫≠p chi·∫øn d·ªãch khuy·∫øn m√£i</p>
          </div>
          <button class="modal-close" id="closeCampaignModal">‚úï</button>
        </div>

        <form id="campaignForm">
          <div class="modal-body">
            <!-- T√™n chi·∫øn d·ªãch -->
            <div class="form-group">
              <label>T√™n chi·∫øn d·ªãch <span class="required">*</span></label>
              <input
                type="text"
                name="campaignName"
                id="campaignName"
                placeholder="VD: Black Friday 2024"
                required
              />
            </div>

            <!-- M√¥ t·∫£ -->
            <div class="form-group">
              <label>M√¥ t·∫£ <span class="required">*</span></label>
              <textarea
                name="campaignDescription"
                id="campaignDescription"
                placeholder="M√¥ t·∫£ chi ti·∫øt v·ªÅ chi·∫øn d·ªãch..."
                rows="4"
                required
                style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border); background: var(--bg); color: var(--text); font-family: inherit; resize: vertical;"
              ></textarea>
            </div>

            <!-- Th·ªùi gian -->
            <div class="form-row">
              <div class="form-group">
                <label>Ng√†y b·∫Øt ƒë·∫ßu <span class="required">*</span></label>
                <input
                  type="date"
                  name="startDate"
                  id="campaignStartDate"
                  required
                />
              </div>
              <div class="form-group">
                <label>Ng√†y k·∫øt th√∫c <span class="required">*</span></label>
                <input
                  type="date"
                  name="endDate"
                  id="campaignEndDate"
                  required
                />
              </div>
            </div>

            <!-- Tr·∫°ng th√°i -->
            <div class="form-group">
              <label>Tr·∫°ng th√°i</label>
              <select name="campaignStatus" id="campaignStatus">
                <option value="active">ƒêang ho·∫°t ƒë·ªông</option>
                <option value="pending">Ch∆∞a b·∫Øt ƒë·∫ßu</option>
                <option value="expired">ƒê√£ h·∫øt h·∫°n</option>
              </select>
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn-cancel" id="cancelCampaignBtn">H·ªßy</button>
            <button type="submit" class="btn-submit">T·∫°o chi·∫øn d·ªãch</button>
          </div>
        </form>
      </div>
    </div>

    </div>

    <script src="js/scrip.js"></script>
    <script src="js/user-info.js"></script>
    <script src="js/action-menu.js"></script>
    <script src="js/sidebar-preserve.js"></script>
    <script src="js/khuyenmai.js"></script>
  </body>
</html>

