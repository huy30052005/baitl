<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Danh sách Sản phẩm - Larkon</title>
    <link rel="stylesheet" href="./css/product.css" />
  </head>
  <body>
    <div class="layout">
      <!-- SIDEBAR: chỉ còn mục Sản phẩm -->
      <aside class="sidebar">
        <div class="brand">
          <svg viewBox="0 0 24 24" fill="none">
            <path
              d="M3 7h18l-2 11a2 2 0 0 1-2 1H7a2 2 0 0 1-2-1L3 7Z"
              stroke="#f9a44d"
              stroke-width="1.5"
            />
            <path
              d="M8 7V5a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v2"
              stroke="#f9a44d"
              stroke-width="1.5"
            />
          </svg>
          <span class="brand-text">Larkon</span>
          <div class="toggle-btn" onclick="toggleSidebar()">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M15 18l-6-6 6-6" />
            </svg>
          </div>
        </div>

        <nav class="nav">
          <div class="nav-item open">
            <a onclick="toggleSubmenu(this)">
              <div style="display: flex; align-items: center; gap: 10px">
                <svg viewBox="0 0 24 24" fill="none">
                  <path
                    d="M3 7h18l-2 11a2 2 0 0 1-2 1H7a2 2 0 0 1-2-1L3 7Z"
                    stroke="currentColor"
                    stroke-width="1.5"
                  />
                  <path
                    d="M8 7V5a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v2"
                    stroke="currentColor"
                    stroke-width="1.5"
                  />
                </svg>
                <span>Sản phẩm</span>
              </div>
              <svg
                class="nav-toggle"
                viewBox="0 0 24 24"
                fill="none"
                width="14"
                height="14"
              >
                <path
                  d="m18 15-6-6-6 6"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
            </a>

            <!-- ĐÃ THÊM id="submenu" -->
            <div class="submenu" id="submenu">
              <a href="product-list.html" class="active">Danh sách</a>
              <a href="product-grid.html">Lưới</a>
              <a href="product-details.html">Chi tiết</a>
              <a href="product-edit.html">Sửa đổi</a>
              <a href="product-create.html">Tạo</a>
            </div>
          </div>
          <div class="nav-item" id="navRegister">
            <a href="#" data-top="register">
              <div style="display: flex; align-items: center; gap: 10px">
                <svg viewBox="0 0 24 24" fill="none">
                  <rect
                    x="4"
                    y="3"
                    width="16"
                    height="18"
                    rx="2"
                    stroke="currentColor"
                    stroke-width="1.5"
                  />
                  <path
                    d="M8 8h8M8 12h8M8 16h5"
                    stroke="currentColor"
                    stroke-width="1.5"
                  />
                </svg>
                <span>Đăng ký</span>
              </div>
            </a>
          </div>
        </nav>
      </aside>
      <!-- MAIN -->
      <section class="main">
        <div class="topbar">
          <div class="title">DANH SÁCH SẢN PHẨM</div>
          <div class="actions">
            <div class="icon-btn" title="Chế độ tối">
              <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                <path
                  d="M21 12a9 9 0 1 1-8-8 7 7 0 0 0 8 8z"
                  stroke="#b9c7e5"
                />
              </svg>
            </div>
            <div class="icon-btn" title="Thông báo">
              <svg viewBox="0 0 24 24" fill="none" width="18" height="18">
                <path
                  d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 0 1-3.46 0"
                  stroke="#b9c7e5"
                />
              </svg>
            </div>
            <div class="search">
              <svg viewBox="0 0 24 24" fill="none" width="16" height="16">
                <circle cx="11" cy="11" r="8" stroke="#7a8fb0" />
                <path d="m21 21-4.35-4.35" stroke="#7a8fb0" />
              </svg>
              <input type="text" placeholder="Tìm kiếm..." id="searchInput" />
            </div>
          </div>
        </div>

        <!-- CONTENT -->
        <div class="content">
          <!-- ĐÃ GÁN id="listCard" -->
          <div class="card" id="listCard">
            <div class="card-header">
              <div style="font-weight: 700; font-size: 16px">
                Tất cả Danh sách sản phẩm
              </div>
              <div style="display: flex; gap: 10px">
                <button
                  class="btn"
                  onclick="window.location.href='product-create.html'"
                >
                  Thêm sản phẩm
                </button>
                <select
                  style="
                    background: var(--panel);
                    border: 1px solid var(--line);
                    color: var(--text);
                    padding: 8px 12px;
                    border-radius: 8px;
                  "
                >
                  <option>Tháng Này</option>
                  <option>Tuần Này</option>
                  <option>Hôm Nay</option>
                </select>
              </div>
            </div>

            <table class="table">
              <thead>
                <tr>
                  <th style="width: 32px">
                    <input type="checkbox" id="selectAll" />
                  </th>
                  <th>Tên sản phẩm & Kích thước</th>
                  <th>Giá</th>
                  <th>Cỡ phiếu</th>
                  <th>Danh mục</th>
                  <th>Đánh giá</th>
                  <th>Hành động</th>
                </tr>
              </thead>
              <tbody id="productTableBody"></tbody>
            </table>

            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 16px;
                border-top: 1px solid var(--line);
              "
            >
              <div style="color: var(--muted); font-size: 13px" id="pageInfo">
                Hiển thị 1-10 trong 50 kết quả
              </div>
              <div style="display: flex; gap: 6px" id="pagination"></div>
            </div>
          </div>

          <!-- ĐÃ DI CHUYỂN registerCard VÀO TRONG .content -->
          <div
            class="card"
            id="registerCard"
            style="display: none; max-width: 820px; margin: 18px auto 0"
          >
            <div class="card-header">
              <b>Đăng ký người bán</b>
              <div>
                <button class="btn" id="btnBackToList" type="button">
                  ↩ Trở về Danh sách
                </button>
              </div>
            </div>
            <div style="padding: 18px">
              <form
                id="sellerForm"
                onsubmit="event.preventDefault(); submitRegisterForm();"
              >
                <div
                  style="
                    display: grid;
                    gap: 12px;
                    grid-template-columns: 1fr 1fr;
                  "
                >
                  <input
                    required
                    placeholder="Tên cửa hàng"
                    style="
                      grid-column: 1/-1;
                      padding: 10px;
                      border: 1px solid var(--line);
                      border-radius: 10px;
                      background: var(--panel-2);
                      color: var(--text);
                    "
                  />
                  <input
                    required
                    placeholder="Họ và tên"
                    style="
                      padding: 10px;
                      border: 1px solid var(--line);
                      border-radius: 10px;
                      background: var(--panel-2);
                      color: var(--text);
                    "
                  />
                  <input
                    required
                    type="email"
                    placeholder="Email"
                    style="
                      padding: 10px;
                      border: 1px solid var(--line);
                      border-radius: 10px;
                      background: var(--panel-2);
                      color: var(--text);
                    "
                  />
                  <input
                    required
                    placeholder="Số điện thoại"
                    style="
                      padding: 10px;
                      border: 1px solid var(--line);
                      border-radius: 10px;
                      background: var(--panel-2);
                      color: var(--text);
                    "
                  />
                  <input
                    required
                    placeholder="Ngân hàng & Số tài khoản"
                    style="
                      grid-column: 1/-1;
                      padding: 10px;
                      border: 1px solid var(--line);
                      border-radius: 10px;
                      background: var(--panel-2);
                      color: var(--text);
                    "
                  />
                  <textarea
                    rows="4"
                    placeholder="Mô tả cửa hàng"
                    style="
                      grid-column: 1/-1;
                      padding: 10px;
                      border: 1px solid var(--line);
                      border-radius: 10px;
                      background: var(--panel-2);
                      color: var(--text);
                    "
                  ></textarea>
                </div>
                <div style="display: flex; gap: 10px; margin-top: 14px">
                  <button class="btn" type="submit">Nộp hồ sơ</button>
                  <button
                    class="pill"
                    type="button"
                    onclick="showRoute('list')"
                  >
                    ✖
                  </button>
                </div>
              </form>
            </div>
          </div>

          <div
            style="
              text-align: center;
              padding: 24px 0;
              color: var(--muted);
              font-size: 13px;
            "
          >
            2025 © Larkon. Được chế tạo bởi
            <span style="color: var(--accent); font-weight: 600"
              >Cao, Trần Huy và Đào Huy</span
            >
          </div>
        </div>
      </section>
    </div>

    <script src="js/auth-guard.js"></script>
  </body>
</html>
